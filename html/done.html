<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../css/done.css">
  <title>Firebase Auth</title>
</head>
<body>

  <!-- ログイン完了画面からゲーム画面に遷移する -->
  <div class="loading">
    <span>L</span>
    <span>O</span>
    <span>A</span>
    <span>D</span>
    <span>I</span>
    <span>N</span>
    <span>G</span>
  </div>

  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
  <script src="../js/config.js"></script>
  <script>
    //ログイン状態を監視する
    firebase.auth().onAuthStateChanged( (user) => { //userを受け取る
      if(user) {  //もしtrueであれば→ログインしている状態
        alert('Login Complete!');
        alert(`${user.displayName}さんがログインしました`); //displayName→表示名（名前入力した部分）
        location.href = 'start.html';
      } else {
        console.log('error');
        location.href = '../index.html';
      }
    });
  </script>
</body>
</html>